# 添加用户接口文档

## 接口信息

- **接口路径**: `/user/addUser`
- **请求方式**: `POST`
- **完整URL**: `http://localhost:8080/user/addUser`（后端地址）
- **前端请求URL**: `/api/user/addUser`（会被代理到后端）

## 请求参数

### 请求头（Headers）

```
Content-Type: application/json
Authorization: Bearer {token}
```

### 请求体（Body）

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| username | String | 是 | 用户名 |
| password | String | 是 | 密码（新增用户时必填） |
| role | String | 是 | 用户角色，可选值：`admin`（超级管理员）、`common`（普通角色）、`student`（学生角色） |
| studentId | String | 否 | 学生编号（当role为`student`时建议填写） |
| status | Number | 否 | 用户状态，`1`表示启用，`0`表示禁用，默认为`1` |

### 请求示例

```json
{
  "username": "testuser",
  "password": "123456",
  "role": "student",
  "studentId": "20230001",
  "status": 1
}
```

## 响应参数

### 成功响应

**HTTP状态码**: `200`

**响应体**:

```json
{
  "code": 200,
  "message": "操作成功",
  "data": null
}
```

### 失败响应

**HTTP状态码**: `200`（业务错误）或 `500`（服务器错误）

**响应体**:

```json
{
  "code": 500,
  "message": "错误信息",
  "data": null
}
```

## 错误码说明

| 错误码 | 说明 |
|--------|------|
| 200 | 操作成功 |
| 400 | 请求参数错误 |
| 401 | 未授权，token无效或过期 |
| 500 | 服务器内部错误 |

## 注意事项

1. 该接口需要管理员权限（`role`为`admin`）才能调用
2. 用户名必须唯一，不能重复
3. 密码建议使用加密传输
4. 当`role`为`student`时，建议同时提供`studentId`字段
5. 新增用户时，`password`字段为必填项

## 调用示例

### JavaScript/Axios 示例

```javascript
import request from '@/utils/request'

// 添加用户
export function addUser(data) {
  return request({
    url: '/user/addUser',
    method: 'post',
    data
  })
}

// 使用示例
addUser({
  username: 'testuser',
  password: '123456',
  role: 'student',
  studentId: '20230001',
  status: 1
}).then(res => {
  if (res.code === 200) {
    console.log('添加成功')
  } else {
    console.error('添加失败:', res.message)
  }
}).catch(error => {
  console.error('请求失败:', error)
})
```

